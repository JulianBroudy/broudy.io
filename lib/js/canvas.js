Pts.namespace(window);const documentElement=document.documentElement;var leavingSection=!1,scrollingDirection=1;function openFullscreen(){documentElement.requestFullscreen?documentElement.requestFullscreen():documentElement.mozRequestFullScreen?documentElement.mozRequestFullScreen():documentElement.webkitRequestFullscreen?documentElement.webkitRequestFullscreen():documentElement.msRequestFullscreen&&documentElement.msRequestFullscreen()}function getRandomIntInclusive(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}const docStyle=documentElement.style;var space,width=window.innerWidth,height=window.innerHeight;function updateOverlay(){docStyle.setProperty("--overlay-position",currentSection.index*height+"px")}!function(){class e{constructor(e,t){this.thePoint=e,this.brightness=t,this.direction=Math.random()<.5?-1:1,this.size=Math.random()<.7?getRandomIntInclusive(2,5):Math.random()<.75?getRandomIntInclusive(5,7):getRandomIntInclusive(7,9),this.getFillColor=function(){return"rgba(255,255,255,"+this.brightness+")"}}}var t=(space=new CanvasSpace("#overlay").setup({bgcolor:"transparent",retina:!0,resize:!0})).getForm(),n=new Group(new Pt,new Pt(0,0));switch(Math.random()<.9?Math.random()<.5?"UpperLeft":"UpperRight":Math.random()<.5?"BottomLeft":"BottomRight"){case"UpperLeft":n=[new Pt,new Pt(width,-getRandomIntInclusive(height/4,height/2.5))];break;case"UpperRight":n=[new Pt(0,-getRandomIntInclusive(height/4,height/2.5)),new Pt(width,0)];break;case"BottomLeft":n=[new Pt(0,4*height),new Pt(width,4*height+getRandomIntInclusive(height/4,height/2.5))];break;case"BottomRight":n=[new Pt(0,4*height+getRandomIntInclusive(height/4,height/2.5)),new Pt(width,4*height)]}let i,o,r=t.gradient([[1,"rgba(47, 53, 66, 1)"],[0,"transparent"]]),h=t.gradient([[.5,"rgba(47, 53, 66, 1)"],[.7,"rgba(47, 53, 66, 0.8)"],[1,"transparent"]]);new Bound;let a=.15*width;a>120&&(a=120);var s=1*Math.max(width,height);space.add({start:t=>{if(!i){i=[],o=[];for(let t=0;t<a;t++){var n=new Pt({x:Math.random()*s-Math.random()*s,y:Math.random()*s-Math.random()*s+Math.random()*s,z:Math.random()*s-Math.random()*s+Math.random()*s});o.push(n),i[t]=new e(n,.7)}}},animate:(e,o)=>{let s,l,c,d,m=space.pointer.clone(),g=leavingSection?50:1e3;for(let e=0;e<a;e++)s=i[e],l=new Group(new Pt(s.thePoint.x,s.thePoint.y),new Pt(Line.perpendicularFromPt(n,s.thePoint),0)),(c=Line.distanceFromPt(l,m))<Math.min(height,width)/15?s.brightness<1&&(s.brightness+=.015):s.brightness>.2&&(s.brightness-=.011),d=s.getFillColor(),t.strokeOnly(d,1).line(l),t.fillOnly("white").point(s.thePoint,s.size),t.strokeOnly(d).point(s.thePoint,s.size),i[e].thePoint.rotate2D(Const.quarter_pi/1e3,m,Const.xy),i[e].thePoint.rotate2D(Const.quarter_pi/g*scrollingDirection,m,Const.xz);t.composite("destination-out"),t.stroke(!1).fill(h(Circle.fromCenter(new Pt(width,height),height/3.5),Circle.fromCenter(new Pt(width,height),height))).rect(Rectangle.from([0,0],width,height)),t.composite("xor"),t.stroke(!1).fill(r(Circle.fromCenter(new Pt(width,height),height/6),Circle.fromCenter(new Pt(width,height),height/1.5))).rect(Rectangle.from([0,0],width,height))}}),space.bindMouse().bindTouch().play()}(),$(window).resize(function(){width=window.innerWidth,height=window.innerHeight});